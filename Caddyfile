# Cukup layani file di port 80, HTTPS sudah diurus Caddy Global
:80 {
  root * /srv
  encode gzip
  file_server

  # Untuk mendukung client-side routing (SPA mode)
  try_files {path} /index.html
}


# # Konfigurasi dasar untuk localhost
# :80 {
#     # Root direktori untuk file statis
#     root * /srv
    
#     # Aktifkan kompresi
#     encode gzip
    
#     # File index
#     try_files {path} /index.html
    
#     # Cache untuk aset statis
#     @static {
#         path *.css *.js *.ico *.gif *.jpg *.jpeg *.png *.svg *.woff *.woff2
#     }
#     header @static Cache-Control "public, max-age=31536000, immutable"
    
#     # Header keamanan
#     header {
#         X-Frame-Options "SAMEORIGIN"
#         X-Content-Type-Options "nosniff"
#         X-XSS-Protection "1; mode=block"
#         Referrer-Policy "no-referrer-when-downgrade"
#     }
    
#     # Aktifkan file server
#     file_server
# }